<div class="mat-app-background basic-container">
  <div class="container">
    <div fxLayout="row" fxLayoutAlign="center center" class="content">
      <mat-card class="card product-center-card" >
        <div class="example-button-row">
          <button mat-raised-button color="primary" class="add-button" (click)="addNew()">
            <mat-icon class="icon">add</mat-icon>
            <span class="label"> Add New</span>  
          </button>
        </div>
        
        <mat-card-content>
          <div class="product-container mat-elevation-z8">
            <div class="product-loading-shade"
                *ngIf="isLoadingResults || isRateLimitReached">
              <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
              <div class="product-rate-limit-reached" *ngIf="isRateLimitReached">
                API rate limit has been reached. 
              </div>
            </div>
            <div class="mat-elevation-z8 product-table-container">
              <table [dataSource]="products" class="product-table" mat-table class="full-width-table" aria-label="Elements">
                <!-- Id Column -->
                <ng-container matColumnDef="id">
                  <th mat-header-cell *matHeaderCellDef>Id</th>
                  <td mat-cell *matCellDef="let row">{{row.id}}</td>
                </ng-container>
            
                <!-- Name Column -->
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef>Name</th>
                  <td mat-cell *matCellDef="let row">{{row.name}}</td>
                </ng-container>

                <!-- Description Column -->
                <ng-container matColumnDef="description">
                  <th mat-header-cell *matHeaderCellDef>Description</th>
                  <td mat-cell *matCellDef="let row">{{row.description}}</td>
                </ng-container>

                  <!-- Age Restriction Column -->
                  <ng-container matColumnDef="ageRestriction">
                      <th mat-header-cell *matHeaderCellDef>Max Age</th>
                      <td mat-cell *matCellDef="let row">{{row.ageRestriction}}</td>
                  </ng-container>

                  <!-- Price Column -->
                  <ng-container matColumnDef="price">
                      <th mat-header-cell *matHeaderCellDef>Price</th>
                      <td mat-cell *matCellDef="let row">{{row.price | currency:'USD' }}</td>
                  </ng-container>

                  <!-- Company Column -->
                  <ng-container matColumnDef="company">
                      <th mat-header-cell *matHeaderCellDef>Company</th>
                      <td mat-cell *matCellDef="let row">{{row.company}}</td>
                  </ng-container>

                  <!-- Actions Column -->
                  <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef>
                      Actions
                    </th>
                    <td mat-cell *matCellDef="let row">
                      <a type="button" matTooltip="Edit" (click)="updateItem(row)">
                        <mat-icon class="icon">edit</mat-icon>
                      </a>
                      <a type="button" matTooltip="Delete" (click)="deleteItem(row.id)">
                        <mat-icon class="icon">delete</mat-icon>
                      </a>
                    </td>
                  </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
  